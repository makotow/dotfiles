#=============================#
# version manager
#=============================#

# ruby version manager
export RBENV_ROOT=/usr/local/opt/rbenv
if exists rbenv; then
    eval "$(rbenv init - $SHELL)";
    . $RBENV_ROOT/completions/rbenv.zsh
fi

# node version manager
if exists nvm; then source $(brew --prefix nvm)/nvm.sh; fi

# python version manager
if exists pyenv; then eval "$(pyenv init -)"; fi

# perl version manager
if exists plenv; then eval "$(plenv init - zsh)"; fi

# golang version manager
# if exists goenv; then eval "$(goenv init -)"; fi


#=============================
# direnv
#=============================
if exists direnv; then eval "$(direnv hook zsh)"; fi


if exists go; then
    export GOPATH=$HOME/src/go
    export GOROOT=$(go env GOROOT)
fi

export NVM_DIR=~/.nvm
export ZSH_CACHE_DIR=/tmp

# zplugin
source "${HOME}/.zplugin/bin/zplugin.zsh"
autoload -Uz _zplugin

(( ${+_comps} )) && _comps[zplugin]=_zplugin
### End of Zplugin's installer chunk

zplugin snippet 'OMZ::lib/clipboard.zsh'
zplugin snippet 'OMZ::lib/completion.zsh'
zplugin snippet 'OMZ::lib/compfix.zsh'

# zplugin: Plugins {{{

# djui/alias-tips {{{
export ZSH_PLUGINS_ALIAS_TIPS_TEXT='alias-tips: '
# }}}

# Two regular plugins loaded without tracking.
zplugin light zsh-users/zsh-autosuggestions
#zplugin light zdharma/fast-syntax-highlighting
# Plugin history-search-multi-word loaded with tracking.
zplugin load zdharma/history-search-multi-word
# Scripts that are built at install (there's single default make target, "install",
# and it constructs scripts by `cat'ing a few files). The make'' ice could also be:
# `make"install PREFIX=$ZPFX"`, if "install" wouldn't be the only, default target.
zplugin ice as"program" pick"$ZPFX/bin/git-*" make"PREFIX=$ZPFX"
zplugin light tj/git-extras
# For GNU ls (the binaries can be gls, gdircolors, e.g. on OS X when installing the
# coreutils package from Homebrew; you can also use https://github.com/ogham/exa)
zplugin ice atclone"dircolors -b LS_COLORS > c.zsh" atpull'%atclone' pick"c.zsh" nocompile'!'
zplugin light trapd00r/LS_COLORS
# 利用可能なエイリアスを使わずにコマンドを実行した際に通知するプラグインです。
zplugin light 'djui/alias-tips'
# tmux のウィンドウを作業中のGitレポジトリ名に応じて自動的にリネームしてくれるプラグインです。(自分で作った)
zplugin light 'sei40kr/zsh-tmux-rename'
# 作業ディレクトリに .env ファイルがあった場合に自動的にロードしてくれます。
zplugin snippet 'OMZ::plugins/dotenv/dotenv.plugin.zsh'
# Gitの補完と大量のエイリアスを定義するプラグインです。
# エイリアスは重宝するものが多く、Gitを使うユーザーには必ずオススメしたいプラグインです。
zplugin snippet 'OMZ::plugins/git/git.plugin.zsh'
# GitHub のレポジトリを管理するためのコマンドを定義するプラグインです。
# zplugin snippet 'OMZ::plugins/github/github.plugin.zsh'
# .zshrc を zcompile してロードしてくれる src コマンドを定義するプラグインです。
zplugin snippet 'OMZ::plugins/zsh_reload/zsh_reload.plugin.zsh'
# }}}
zplugin light 'mollifier/anyframe'

compinit
zplugin cdreplay -q

# SPACESHIP Configuration  {{{
zplugin light 'denysdovhan/spaceship-prompt'
zplugin light 'denysdovhan/spaceship-zsh-theme'
